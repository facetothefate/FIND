<html>
    <head></head>
    <body>
        <div id ="basicUsageObject"></div>
        <script src="../dist/build/find.js"></script>
        <script>
            let data = { 
                foo : 1,
                bar : 2
            }
            updatefoo = (event) => {
                data.foo = data.foo + 1;
            };
            let pipeline = FIND.Pipeline([
                [
                    "foo" , (data, element) => {
                        if (!element) {
                            return FIND.element("button", {
                                text : `foo : ${data}`
                            }).on('click',updatefoo);
                        } else {
                            return element.text(`foo-update : ${data}`);                        }
                    }
                ],
                [
                    "bar", (data, element) => {
                        if (!element) {
                            return FIND.element("h4", {
                                text : `bar : ${data}`
                            });
                        } else {
                            return element.html(`<h4> bar-update :${data}</h4>`);
                        }
                    }
                ]
            ])
            .outter("div",{})
            .prepend("h1", {text:"Object binding"})
            .outter("div",{class:"test"});

            
            data = pipeline.bind(data).inject(document.getElementById("basicUsageObject")).model();

        </script>

        <div id="basicUsageArray">
        </div>
        <script>
            let arrayData = [1,2,3];
            let arrayPipeline = FIND.Pipeline([
                ["*", (data) => FIND.element("li",{text:data})]
            ])
            .outter("ul",{})
            .prepend("h1", {text:"Array binding"})
            .outter("div",{})
            .bind(arrayData)
            .inject(document.getElementById("basicUsageArray"));
        </script>
    </body>
</html>